package features.nyit;

import java.util.Arrays;
import java.util.Collection;
import java.util.HashMap;
import java.util.LinkedList;
import java.util.Set;
import java.util.TreeSet;

import extractors.data.Answer;
import extractors.data.DataNode;
import extractors.data.ExtractionModule;
import extractors.data.Feature;
import keystroke.KeyStroke;


/**
 * This class contains ExtractionModule code that detects selected Trigraphs and extracts their durations.
 * 
 * Trigraph duration is defined as the time between press of the first key and the press of the last key.
 * @author Patrick
 */

public class SplitTrigraphDuration implements ExtractionModule {

	private Set<String> trigraphs;
	private HashMap<String, LinkedList<Long>> featureMapNormal = new HashMap<String, LinkedList<Long>>(1800);
	private HashMap<String, LinkedList<Long>> featureMapSlur = new HashMap<String, LinkedList<Long>>(1800);
	private static final boolean DISREGARD_EMPTY_FEATURES = false;
	
	//http://www.umich.edu/~umich/fm-34-40-2/
	//http://corpus.byu.edu/coca/
	//Scrabble Dictionary
	public SplitTrigraphDuration () {
		/*
		trigraphs = new TreeSet<String>();
		StringBuilder sb = new StringBuilder();
		for (char b = 'A'; b <= 'Z'; b++) {
			for (char c = 'A'; c <= 'Z'; c++) {
				for (char d = 'A'; d <= 'Z'; d++) {
					sb.setLength(0);
					sb.append(b);
					sb.append(c);
					sb.append(d);
					trigraphs.add(sb.toString());
				}
			}
		}*/
		
		//1853 Top Available From Full Permutation
		String[] trigraphs = {"ABA", "ABI", "ABL", "ABO", "ABS", "ACA", "ACC", "ACE", "ACH", "ACI", "ACK", "ACO", "ACR", "ACT", "ACU", "ADA", "ADD", "ADE", "ADI", "ADN", "ADO", "ADS", "ADU", "ADV", "ADY", "AFE", "AFF", "AFR", "AFT", "AGA", "AGE", "AGI", "AGO", "AGR", "AHA", "AHO", "AHT", "AID", "AIL", "AIN", "AIR", "AIS", "AIT", "AJO", "AKE", "AKI", "ALA", "ALC", "ALE", "ALI", "ALK", "ALL", "ALM", "ALO", "ALR", "ALS", "ALT", "ALU", "ALW", "ALY", "AMA", "AMB", "AME", "AMI", "AMO", "AMP", "AMS", "AMU", "ANA", "ANB", "ANC", "AND", "ANE", "ANF", "ANG", "ANH", "ANI", "ANK", "ANM", "ANN", "ANO", "ANS", "ANT", "ANY", "AOL", "APA", "APE", "API", "APO", "APP", "APR", "APS", "APT", "ARA", "ARC", "ARD", "ARE", "ARG", "ARI", "ARK", "ARL", "ARM", "ARN", "ARO", "ARR", "ARS", "ART", "ARY", "ASD", "ASE", "ASH", "ASI", "ASK", "ASL", "ASN", "ASO", "ASP", "ASS", "AST", "ASU", "ASY", "ATA", "ATC", "ATE", "ATH", "ATI", "ATL", "ATN", "ATO", "ATR", "ATS", "ATT", "ATU", "ATY", "AUG", "AUS", "AUT", "AUY", "AVA", "AVE", "AVI", "AVO", "AWA", "AWE", "AYB", "AYE", "AYI", "AYS", "AYT", "AYU", "AZI", "AZY", "AZZ", "BAB", "BAC", "BAD", "BAL", "BAN", "BAR", "BAS", "BAT", "BEA", "BEC", "BED", "BEE", "BEF", "BEG", "BEH", "BEI", "BEL", "BEN", "BER", "BES", "BET", "BIG", "BIL", "BIN", "BIR", "BIT", "BJE", "BLA", "BLE", "BLI", "BLO", "BLU", "BLY", "BMA", "BNE", "BOA", "BOD", "BOO", "BOR", "BOS", "BOT", "BOU", "BOW", "BOX", "BOY", "BRA", "BRE", "BRI", "BRO", "BSI", "BSO", "BST", "BUI", "BUL", "BUS", "BUT", "BUY", "BVE", "CAL", "CAM", "CAN", "CAP", "CAR", "CAS", "CAT", "CAU", "CCA", "CCE", "CCI", "CCO", "CCU", "CEA", "CEB", "CED", "CEE", "CEI", "CEL", "CEN", "CEP", "CER", "CES", "CHA", "CHE", "CHI", "CHN", "CHO", "CHR", "CHU", "CIA", "CID", "CIE", "CIF", "CIL", "CIN", "CIP", "CIR", "CIS", "CIT", "CIV", "CKE", "CKG", "CKI", "CKL", "CKS", "CLA", "CLE", "CLI", "CLO", "CLU", "COA", "COH", "COL", "COM", "CON", "COO", "COP", "COR", "COS", "COU", "COV", "COW", "CRA", "CRE", "CRI", "CRO", "CRU", "CRY", "CTE", "CTI", "CTL", "CTO", "CTR", "CTS", "CTU", "CUA", "CUL", "CUM", "CUR", "CUS", "CUT", "DAD", "DAG", "DAI", "DAL", "DAM", "DAN", "DAR", "DAT", "DAY", "DDE", "DDI", "DDL", "DEA", "DEC", "DED", "DEE", "DEF", "DEL", "DEM", "DEN", "DEO", "DEP", "DER", "DES", "DET", "DEV", "DGE", "DIA", "DIC", "DID", "DIE", "DIF", "DIG", "DIN", "DIR", "DIS", "DIT", "DIV", "DLE", "DLY", "DNT", "DOC", "DOE", "DOG", "DOI", "DOL", "DOM", "DON", "DOO", "DOW", "DRA", "DRE", "DRI", "DRO", "DRU", "DSC", "DUA", "DUC", "DUE", "DUR", "DVE", "EAC", "EAD", "EAK", "EAL", "EAM", "EAN", "EAR", "EAS", "EAT", "EAU", "EAV", "EBA", "EBM", "EBO", "EBS", "ECA", "ECC", "ECE", "ECH", "ECI", "ECK", "ECO", "ECT", "ECU", "EDE", "EDG", "EDI", "EDN", "EDS", "EDU", "EDY", "EED", "EEE", "EEI", "EEK", "EEL", "EEM", "EEN", "EEP", "EER", "EES", "EET", "EFE", "EFF", "EFI", "EFO", "EFT", "EFU", "EGA", "EGE", "EGI", "EHI", "EIG", "EIN", "EIR", "EIT", "EIV", "EKE", "EKS", "ELA", "ELD", "ELE", "ELF", "ELI", "ELL", "ELO", "ELP", "ELS", "ELT", "ELV", "ELY", "EMA", "EMB", "EME", "EMI", "EMO", "EMP", "EMS", "ENA", "ENC", "END", "ENE", "ENG", "ENH", "ENI", "ENJ", "ENM", "ENN", "ENO", "ENR", "ENS", "ENT", "ENV", "EOL", "EON", "EOP", "EOS", "EPA", "EPE", "EPI", "EPL", "EPO", "EPS", "EPT", "EQU", "ERA", "ERB", "ERC", "ERD", "ERE", "ERF", "ERG", "ERH", "ERI", "ERL", "ERM", "ERN", "ERO", "ERP", "ERR", "ERS", "ERT", "ERV", "ERW", "ERY", "ESA", "ESC", "ESE", "ESH", "ESI", "ESN", "ESO", "ESP", "ESS", "EST", "ETA", "ETB", "ETC", "ETE", "ETH", "ETI", "ETO", "ETR", "ETS", "ETT", "ETW", "ETY", "EVA", "EVE", "EVI", "EVO", "EWA", "EWE", "EWS", "EXA", "EXC", "EXE", "EXI", "EXP", "EXT", "EYB", "EYE", "FAC", "FAI", "FAL", "FAM", "FAN", "FAR", "FAS", "FAT", "FAV", "FEA", "FEC", "FEE", "FEL", "FEN", "FER", "FES", "FEW", "FFE", "FFI", "FFO", "FIC", "FIE", "FIG", "FIL", "FIN", "FIR", "FIS", "FIT", "FIV", "FIX", "FLI", "FLO", "FLY", "FOC", "FOL", "FOO", "FOR", "FOU", "FRE", "FRI", "FRO", "FTB", "FTE", "FUC", "FUL", "FUN", "FUR", "FUS", "FUT", "GAI", "GAM", "GAN", "GAR", "GAT", "GED", "GEN", "GER", "GES", "GET", "GGE", "GGL", "GHL", "GHO", "GHT", "GIC", "GIN", "GIR", "GIV", "GLA", "GLE", "GMA", "GNE", "GNI", "GOD", "GOE", "GOI", "GOL", "GON", "GOO", "GOR", "GOS", "GOT", "GRA", "GRE", "GRI", "GRO", "GRY", "GUA", "GUE", "GUI", "GUL", "GUY", "GYM", "HAB", "HAD", "HAI", "HAL", "HAM", "HAN", "HAP", "HAR", "HAS", "HAT", "HAV", "HEA", "HEC", "HED", "HEE", "HEI", "HEL", "HEM", "HEN", "HER", "HES", "HET", "HEW", "HEY", "HGE", "HIC", "HIE", "HIG", "HIK", "HIL", "HIM", "HIN", "HIO", "HIP", "HIR", "HIS", "HIT", "HJE", "HLE", "HLY", "HOD", "HOE", "HOI", "HOL", "HOM", "HON", "HOO", "HOP", "HOR", "HOS", "HOT", "HOU", "HOW", "HRE", "HRI", "HRO", "HTE", "HTS", "HUG", "HUM", "HUN", "HUR", "HUS", "HUT", "HYS", "IAL", "IAN", "IAT", "IBE", "IBI", "IBL", "ICA", "ICE", "ICH", "ICI", "ICK", "ICS", "ICT", "ICU", "IDA", "IDD", "IDE", "IDI", "IDN", "IDS", "IDU", "IEC", "IED", "IEK", "IEL", "IEN", "IER", "IES", "IET", "IEV", "IEW", "IFE", "IFF", "IFI", "IFT", "IFU", "IGA", "IGG", "IGH", "IGI", "IGN", "IGU", "IIN", "IKE", "ILA", "ILD", "ILE", "ILI", "ILL", "ILS", "ILT", "ILY", "IMA", "IME", "IMI", "IMM", "IMP", "INA", "INB", "INC", "IND", "INE", "INF", "ING", "INI", "INJ", "INK", "INL", "INM", "INN", "INO", "INS", "INT", "INU", "INV", "IOL", "ION", "IOR", "IOT", "IOU", "IPA", "IPL", "IPS", "IQU", "IRC", "IRD", "IRE", "IRL", "IRO", "IRR", "IRS", "IRT", "ISA", "ISC", "ISE", "ISH", "ISI", "ISL", "ISN", "ISO", "ISP", "ISS", "IST", "ISU", "ITA", "ITC", "ITE", "ITH", "ITI", "ITL", "ITO", "ITS", "ITT", "ITU", "ITY", "IUN", "IUS", "IUT", "IVA", "IVE", "IVI", "IZA", "IZE", "JAC", "JAZ", "JEC", "JOB", "JOR", "JOY", "JUD", "JUM", "JUN", "JUR", "JUS", "KED", "KEE", "KEL", "KEM", "KEN", "KEP", "KER", "KES", "KET", "KEY", "KGR", "KID", "KIL", "KIN", "KIT", "KNE", "KNO", "LAB", "LAC", "LAD", "LAG", "LAH", "LAI", "LAK", "LAN", "LAR", "LAS", "LAT", "LAU", "LAX", "LAY", "LCO", "LDE", "LDH", "LDI", "LDN", "LDR", "LEA", "LEC", "LED", "LEE", "LEF", "LEG", "LEI", "LEM", "LEN", "LER", "LES", "LET", "LEV", "LEY", "LIA", "LIC", "LID", "LIE", "LIF", "LIG", "LIK", "LIM", "LIN", "LIO", "LIS", "LIT", "LIV", "LIZ", "LKE", "LKI", "LLA", "LLE", "LLI", "LLL", "LLO", "LLS", "LLY", "LMO", "LOA", "LOC", "LOD", "LOG", "LOI", "LON", "LOO", "LOR", "LOS", "LOT", "LOU", "LOV", "LOW", "LPE", "LPS", "LRE", "LSE", "LSO", "LTH", "LTI", "LTU", "LUA", "LUD", "LUE", "LUS", "LUT", "LUY", "LVE", "LWA", "LYI", "LYM", "LYR", "LYU", "LYW", "MAD", "MAG", "MAI", "MAJ", "MAK", "MAL", "MAN", "MAR", "MAS", "MAT", "MAY", "MAZ", "MBE", "MBL", "MBU", "MEA", "MEB", "MED", "MEE", "MEL", "MEM", "MEN", "MEO", "MER", "MES", "MET", "MEW", "MFO", "MIC", "MID", "MIG", "MIL", "MIN", "MIS", "MIT", "MIX", "MMA", "MME", "MMI", "MMM", "MMO", "MMU", "MOD", "MOM", "MON", "MOO", "MOR", "MOS", "MOT", "MOU", "MOV", "MPA", "MPE", "MPI", "MPL", "MPO", "MPR", "MPT", "MPU", "MSE", "MUC", "MUL", "MUN", "MUR", "MUS", "MUY", "MYS", "NAG", "NAL", "NAM", "NAN", "NAR", "NAS", "NAT", "NBE", "NBO", "NCE", "NCH", "NCI", "NCL", "NCO", "NCY", "NDA", "NDE", "NDI", "NDL", "NDO", "NDS", "NDU", "NDY", "NEA", "NEC", "NED", "NEE", "NEG", "NEI", "NEL", "NER", "NES", "NET", "NEV", "NEW", "NEX", "NEY", "NFE", "NFL", "NFO", "NFU", "NGA", "NGE", "NGI", "NGL", "NGR", "NGS", "NGU", "NHA", "NIA", "NIC", "NIE", "NIF", "NIG", "NIM", "NIN", "NIO", "NIS", "NIT", "NIV", "NIZ", "NJO", "NJU", "NKE", "NKI", "NKS", "NLI", "NLY", "NME", "NNA", "NNE", "NNI", "NNO", "NNY", "NOI", "NOL", "NON", "NOO", "NOR", "NOT", "NOU", "NOW", "NOY", "NRE", "NSE", "NSH", "NSI", "NST", "NSU", "NSW", "NTA", "NTE", "NTH", "NTI", "NTL", "NTO", "NTR", "NTS", "NTU", "NTY", "NUE", "NUM", "NUR", "NUT", "NVE", "NVI", "NVO", "NYO", "NYT", "OAC", "OAD", "OAR", "OAT", "OBA", "OBB", "OBE", "OBJ", "OBL", "OBV", "OCA", "OCC", "OCE", "OCI", "OCK", "OCT", "OCU", "ODA", "ODE", "ODS", "ODU", "ODY", "OES", "OFE", "OFF", "OFI", "OFT", "OGE", "OGI", "OGL", "OGR", "OGY", "OHO", "OIC", "OIL", "OIN", "OIR", "OIS", "OIT", "OIU", "OJE", "OKE", "OKI", "OKS", "OLD", "OLE", "OLF", "OLI", "OLK", "OLL", "OLO", "OLS", "OLU", "OLV", "OLY", "OMA", "OME", "OMI", "OMM", "OMP", "OMU", "ONA", "ONC", "OND", "ONE", "ONF", "ONG", "ONI", "ONL", "ONM", "ONN", "ONO", "ONS", "ONT", "ONV", "OOD", "OOG", "OOK", "OOL", "OOM", "OON", "OOO", "OOR", "OOS", "OOT", "OPE", "OPI", "OPL", "OPP", "OPR", "OPS", "OPT", "OPU", "ORA", "ORC", "ORD", "ORE", "ORG", "ORI", "ORK", "ORL", "ORM", "ORN", "ORO", "ORP", "ORR", "ORS", "ORT", "ORY", "OSE", "OSI", "OSP", "OSS", "OST", "OTA", "OTB", "OTE", "OTH", "OTI", "OTM", "OTO", "OTS", "OTT", "OUC", "OUD", "OUG", "OUI", "OUL", "OUN", "OUP", "OUR", "OUS", "OUT", "OUY", "OVE", "OVI", "OWA", "OWB", "OWE", "OWI", "OWL", "OWN", "OWS", "OXI", "OYE", "OYF", "OYI", "OYS", "PAC", "PAG", "PAI", "PAL", "PAM", "PAN", "PAP", "PAR", "PAS", "PAT", "PAY", "PEA", "PEC", "PED", "PEE", "PEL", "PEN", "PEO", "PER", "PES", "PET", "PHO", "PHY", "PIC", "PID", "PIE", "PIN", "PIR", "PIS", "PIT", "PLA", "PLE", "PLI", "PLO", "PLU", "PLY", "POE", "POI", "POK", "POL", "PON", "POO", "POP", "POR", "POS", "POT", "POU", "POW", "PPA", "PPE", "PPI", "PPL", "PPO", "PPR", "PPY", "PRA", "PRE", "PRI", "PRO", "PSE", "PTI", "PUL", "PUN", "PUR", "PUS", "PUT", "QUA", "QUE", "QUI", "RAB", "RAC", "RAD", "RAG", "RAI", "RAL", "RAM", "RAN", "RAP", "RAR", "RAS", "RAT", "RAV", "RAW", "RAY", "RAZ", "RBA", "RCE", "RCH", "RCI", "RCO", "RDE", "RDI", "RDS", "REA", "REC", "RED", "REE", "REF", "REG", "REI", "REL", "REM", "REN", "REP", "REQ", "RER", "RES", "RET", "REV", "REW", "RFA", "RFE", "RFO", "RFU", "RGA", "RGE", "RHY", "RIA", "RIB", "RIC", "RID", "RIE", "RIF", "RIG", "RIL", "RIM", "RIN", "RIO", "RIP", "RIS", "RIT", "RIV", "RKD", "RKE", "RKI", "RKS", "RLD", "RLE", "RLS", "RLY", "RMA", "RME", "RMI", "RMS", "RNA", "RNE", "RNI", "ROA", "ROB", "ROC", "ROD", "ROF", "ROG", "ROI", "ROJ", "ROK", "ROL", "ROM", "RON", "ROO", "ROP", "ROR", "ROS", "ROT", "ROU", "ROV", "ROW", "RPO", "RRA", "RRE", "RRI", "RRO", "RRY", "RSA", "RSE", "RSI", "RSO", "RST", "RTA", "RTE", "RTH", "RTI", "RTM", "RTS", "RTU", "RTY", "RUB", "RUC", "RUE", "RUG", "RUL", "RUM", "RUN", "RUS", "RUT", "RVE", "RVI", "RYB", "RYD", "RYI", "RYO", "RYT", "SAD", "SAF", "SAG", "SAI", "SAL", "SAM", "SAN", "SAP", "SAR", "SAS", "SAT", "SAV", "SAW", "SAY", "SCA", "SCE", "SCH", "SCI", "SCO", "SCR", "SCU", "SEA", "SEB", "SEC", "SED", "SEE", "SEL", "SEM", "SEN", "SEP", "SER", "SES", "SET", "SEV", "SEX", "SFU", "SHA", "SHE", "SHI", "SHO", "SIA", "SIB", "SIC", "SID", "SIE", "SIG", "SIL", "SIM", "SIN", "SIO", "SIS", "SIT", "SIV", "SIX", "SIZ", "SKE", "SKI", "SKY", "SLA", "SLE", "SLI", "SLO", "SLY", "SMA", "SME", "SMI", "SNE", "SNO", "SNT", "SOC", "SOF", "SOI", "SOL", "SOM", "SON", "SOO", "SOR", "SOU", "SPA", "SPE", "SPI", "SPO", "SPR", "SSA", "SSE", "SSF", "SSI", "SSO", "SSS", "SSU", "STA", "STE", "STI", "STL", "STM", "STO", "STR", "STS", "STU", "STY", "SUA", "SUB", "SUC", "SUE", "SUM", "SUN", "SUP", "SUR", "SUS", "SWE", "SWI", "SYS", "TAB", "TAC", "TAG", "TAH", "TAI", "TAK", "TAL", "TAN", "TAR", "TAS", "TAT", "TAY", "TBA", "TCH", "TEA", "TEC", "TED", "TEE", "TEH", "TEL", "TEM", "TEN", "TEP", "TER", "TES", "TEV", "TEX", "THA", "THC", "THE", "THG", "THI", "THJ", "THL", "THM", "THO", "THR", "THS", "THT", "THY", "TIA", "TIC", "TIE", "TIF", "TIG", "TIL", "TIM", "TIN", "TIO", "TIP", "TIR", "TIS", "TIT", "TIU", "TIV", "TLE", "TLY", "TMA", "TME", "TOD", "TOG", "TOI", "TOL", "TOM", "TON", "TOO", "TOP", "TOR", "TOT", "TOU", "TOW", "TRA", "TRE", "TRI", "TRO", "TRU", "TRY", "TSI", "TTA", "TTE", "TTI", "TTL", "TTO", "TTR", "TTY", "TUA", "TUD", "TUF", "TUN", "TUP", "TUR", "TWA", "TWE", "TWI", "TWO", "TYH", "TYL", "TYP", "UAG", "UAL", "UAR", "UAS", "UAT", "UBJ", "UBL", "UBS", "UCC", "UCH", "UCK", "UCT", "UDD", "UDE", "UDI", "UDL", "UDS", "UEN", "UES", "UET", "UFF", "UGE", "UGG", "UGH", "UGS", "UIC", "UIL", "UIN", "UIR", "UIS", "UIT", "ULA", "ULD", "ULE", "ULL", "ULT", "ULY", "UMA", "UMB", "UME", "UMM", "UMP", "UMS", "UNA", "UNC", "UND", "UNF", "UNG", "UNI", "UNK", "UNL", "UNN", "UNS", "UNT", "UPE", "UPI", "UPL", "UPP", "UPS", "URA", "URC", "URD", "URE", "URI", "URN", "URP", "URR", "URS", "URT", "URV", "URY", "USA", "USC", "USE", "USH", "USI", "USL", "USS", "UST", "USU", "UTA", "UTE", "UTH", "UTI", "UTS", "UTT", "UTU", "UTY", "UYS", "VAC", "VAI", "VAL", "VAN", "VAR", "VAS", "VAT", "VCE", "VED", "VEI", "VEL", "VEM", "VEN", "VER", "VES", "VEY", "VIC", "VID", "VIE", "VIL", "VIN", "VIO", "VIR", "VIS", "VIT", "VIV", "VOI", "VOL", "VOR", "WAI", "WAL", "WAN", "WAR", "WAS", "WAT", "WAY", "WEA", "WEB", "WED", "WEE", "WEL", "WEN", "WER", "WES", "WEV", "WHA", "WHE", "WHI", "WHO", "WHY", "WIC", "WID", "WIH", "WIL", "WIM", "WIN", "WIS", "WIT", "WLE", "WNS", "WOI", "WOL", "WOM", "WON", "WOO", "WOR", "WOU", "WRA", "WRI", "WRO", "XAC", "XAM", "XAS", "XCE", "XCI", "XEC", "XED", "XPE", "XPL", "XPR", "XTR", "YAH", "YAR", "YBA", "YBE", "YBO", "YEA", "YED", "YEL", "YER", "YES", "YET", "YFR", "YIN", "YLE", "YON", "YOR", "YOU", "YPE", "YPI", "YRI", "YSE", "YSI", "YSP", "YST", "YTH", "YTI", "YWH", "YWO", "ZED", "ZIN"};
		//Original List
		//String[] trigraphs = {"AAH", "AAL", "AAS", "ABA", "ABB", "ABO", "ABS", "ABY", "ACE", "ACH", "ACT", "ADD", "ADO", "ADS", "ADZ", "AFF", "AFT", "AGA", "AGE", "AGO", "AGS", "AHA", "AHI", "AHS", "AIA", "AID", "AIL", "AIM", "AIN", "AIR", "AIS", "AIT", "AKA", "AKE", "ALA", "ALB", "ALE", "ALF", "ALL", "ALP", "ALS", "ALT", "AMA", "AMI", "AMP", "AMU", "ANA", "AND", "ANE", "ANI", "ANN", "ANT", "ANY", "APE", "APO", "APP", "APT", "ARB", "ARC", "ARD", "ARE", "ARF", "ARK", "ARM", "ARS", "ART", "ARY", "ASH", "ASK", "ASP", "ASS", "ATE", "ATT", "AUA", "AUE", "AUF", "AUK", "AVA", "AVE", "AVO", "AWA", "AWE", "AWL", "AWN", "AXE", "AYE", "AYS", "AYU", "AZO", "BAA", "BAC", "BAD", "BAG", "BAH", "BAL", "BAM", "BAN", "BAP", "BAR", "BAS", "BAT", "BAY", "BED", "BEE", "BEG", "BEL", "BEN", "BES", "BET", "BEY", "BEZ", "BIB", "BID", "BIG", "BIN", "BIO", "BIS", "BIT", "BIZ", "BOA", "BOB", "BOD", "BOG", "BOH", "BOI", "BOK", "BON", "BOO", "BOP", "BOR", "BOS", "BOT", "BOW", "BOX", "BOY", "BRA", "BRO", "BRR", "BRU", "BUB", "BUD", "BUG", "BUM", "BUN", "BUR", "BUS", "BUT", "BUY", "BYE", "BYS", "CAA", "CAB", "CAD", "CAG", "CAM", "CAN", "CAP", "CAR", "CAT", "CAW", "CAY", "CAZ", "CEE", "CEL", "CEP", "CHA", "CHE", "CHI", "CID", "CIG", "CIS", "CIT", "CLY", "COB", "COD", "COG", "COL", "CON", "COO", "COP", "COR", "COS", "COT", "COW", "COX", "COY", "COZ", "CRU", "CRY", "CUB", "CUD", "CUE", "CUM", "CUP", "CUR", "CUT", "CUZ", "CWM", "DAB", "DAD", "DAE", "DAG", "DAH", "DAK", "DAL", "DAM", "DAN", "DAP", "DAS", "DAW", "DAY", "DEB", "DEE", "DEF", "DEG", "DEI", "DEL", "DEN", "DEV", "DEW", "DEX", "DEY", "DIB", "DID", "DIE", "DIF", "DIG", "DIM", "DIN", "DIP", "DIS", "DIT", "DIV", "DOB", "DOC", "DOD", "DOE", "DOF", "DOG", "DOH", "DOL", "DOM", "DON", "DOO", "DOP", "DOR", "DOS", "DOT", "DOW", "DOY", "DRY", "DSO", "DUB", "DUD", "DUE", "DUG", "DUH", "DUI", "DUN", "DUO", "DUP", "DUX", "DYE", "DZO", "EAN", "EAR", "EAS", "EAT", "EAU", "EBB", "ECH", "ECO", "ECU", "EDH", "EDS", "EEK", "EEL", "EEN", "EFF", "EFS", "EFT", "EGG", "EGO", "EHS", "EIK", "EKE", "ELD", "ELF", "ELK", "ELL", "ELM", "ELS", "ELT", "EME", "EMO", "EMS", "EMU", "END", "ENE", "ENG", "ENS", "EON", "ERA", "ERE", "ERF", "ERG", "ERK", "ERN", "ERR", "ERS", "ESS", "EST", "ETA", "ETH", "EUK", "EVE", "EVO", "EWE", "EWK", "EWT", "EXO", "EYE", "FAA", "FAB", "FAD", "FAE", "FAG", "FAH", "FAN", "FAP", "FAR", "FAS", "FAT", "FAW", "FAX", "FAY", "FED", "FEE", "FEG", "FEH", "FEM", "FEN", "FER", "FES", "FET", "FEU", "FEW", "FEY", "FEZ", "FIB", "FID", "FIE", "FIG", "FIL", "FIN", "FIR", "FIT", "FIX", "FIZ", "FLU", "FLY", "FOB", "FOE", "FOG", "FOH", "FON", "FOP", "FOR", "FOU", "FOX", "FOY", "FRA", "FRO", "FRY", "FUB", "FUD", "FUG", "FUM", "FUN", "FUR", "GAB", "GAD", "GAE", "GAG", "GAL", "GAM", "GAN", "GAP", "GAR", "GAS", "GAT", "GAU", "GAY", "GED", "GEE", "GEL", "GEM", "GEN", "GEO", "GET", "GEY", "GHI", "GIB", "GID", "GIE", "GIF", "GIG", "GIN", "GIO", "GIP", "GIS", "GIT", "GJU", "GNU", "GOA", "GOB", "GOD", "GOE", "GON", "GOO", "GOR", "GOS", "GOT", "GOV", "GOX", "GOY", "GUB", "GUE", "GUL", "GUM", "GUN", "GUP", "GUR", "GUS", "GUT", "GUV", "GUY", "GYM", "GYP", "HAD", "HAE", "HAG", "HAH", "HAJ", "HAM", "HAN", "HAO", "HAP", "HAS", "HAT", "HAW", "HAY", "HEH", "HEM", "HEN", "HEP", "HER", "HES", "HET", "HEW", "HEX", "HEY", "HIC", "HID", "HIE", "HIM", "HIN", "HIP", "HIS", "HIT", "HMM", "HOA", "HOB", "HOC", "HOD", "HOE", "HOG", "HOH", "HOI", "HOM", "HON", "HOO", "HOP", "HOS", "HOT", "HOW", "HOX", "HOY", "HUB", "HUE", "HUG", "HUH", "HUI", "HUM", "HUN", "HUP", "HUT", "HYE", "HYP", "ICE", "ICH", "ICK", "ICY", "IDE", "IDS", "IFF", "IFS", "IGG", "ILK", "ILL", "IMP", "INK", "INN", "INS", "ION", "IOS", "IRE", "IRK", "ISH", "ISM", "ISO", "ITA", "ITS", "IVY", "IWI", "JAB", "JAG", "JAI", "JAK", "JAM", "JAP", "JAR", "JAW", "JAY", "JEE", "JET", "JEU", "JEW", "JIB", "JIG", "JIN", "JIZ", "JOB", "JOE", "JOG", "JOL", "JOR", "JOT", "JOW", "JOY", "JUD", "JUG", "JUN", "JUS", "JUT", "KAB", "KAE", "KAF", "KAI", "KAK", "KAM", "KAS", "KAT", "KAW", "KAY", "KEA", "KEB", "KED", "KEF", "KEG", "KEN", "KEP", "KET", "KEX", "KEY", "KHI", "KID", "KIF", "KIN", "KIP", "KIR", "KIS", "KIT", "KOA", "KOB", "KOI", "KON", "KOP", "KOR", "KOS", "KOW", "KUE", "KYE", "KYU", "LAB", "LAC", "LAD", "LAG", "LAH", "LAM", "LAP", "LAR", "LAS", "LAT", "LAV", "LAW", "LAX", "LAY", "LEA", "LED", "LEE", "LEG", "LEI", "LEK", "LEP", "LES", "LET", "LEU", "LEV", "LEW", "LEX", "LEY", "LEZ", "LIB", "LID", "LIE", "LIG", "LIN", "LIP", "LIS", "LIT", "LOB", "LOD", "LOG", "LOO", "LOP", "LOR", "LOS", "LOT", "LOU", "LOW", "LOX", "LOY", "LUD", "LUG", "LUM", "LUR", "LUV", "LUX", "LUZ", "LYE", "LYM", "MAA", "MAC", "MAD", "MAE", "MAG", "MAK", "MAL", "MAM", "MAN", "MAP", "MAR", "MAS", "MAT", "MAW", "MAX", "MAY", "MED", "MEE", "MEG", "MEL", "MEM", "MEN", "MES", "MET", "MEU", "MEW", "MHO", "MIB", "MIC", "MID", "MIG", "MIL", "MIM", "MIR", "MIS", "MIX", "MIZ", "MNA", "MOA", "MOB", "MOC", "MOD", "MOE", "MOG", "MOI", "MOL", "MOM", "MON", "MOO", "MOP", "MOR", "MOS", "MOT", "MOU", "MOW", "MOY", "MOZ", "MUD", "MUG", "MUM", "MUN", "MUS", "MUT", "MUX", "MYC", "NAB", "NAE", "NAG", "NAH", "NAM", "NAN", "NAP", "NAS", "NAT", "NAW", "NAY", "NEB", "NED", "NEE", "NEF", "NEG", "NEK", "NEP", "NET", "NEW", "NIB", "NID", "NIE", "NIL", "NIM", "NIP", "NIS", "NIT", "NIX", "NOB", "NOD", "NOG", "NOH", "NOM", "NON", "NOO", "NOR", "NOS", "NOT", "NOW", "NOX", "NOY", "NTH", "NUB", "NUN", "NUR", "NUS", "NUT", "NYE", "NYS", "OAF", "OAK", "OAR", "OAT", "OBA", "OBE", "OBI", "OBO", "OBS", "OCA", "OCH", "ODA", "ODD", "ODE", "ODS", "OES", "OFF", "OFT", "OHM", "OHO", "OHS", "OIK", "OIL", "OKA", "OKE", "OLD", "OLE", "OLM", "OMS", "ONE", "ONO", "ONS", "ONY", "OOF", "OOH", "OOM", "OON", "OOP", "OOR", "OOS", "OOT", "OPE", "OPS", "OPT", "ORA", "ORB", "ORC", "ORD", "ORE", "ORF", "ORS", "ORT", "OSE", "OUD", "OUK", "OUP", "OUR", "OUS", "OUT", "OVA", "OWE", "OWL", "OWN", "OWT", "OXO", "OXY", "OYE", "OYS", "PAC", "PAD", "PAH", "PAL", "PAM", "PAN", "PAP", "PAR", "PAS", "PAT", "PAV", "PAW", "PAX", "PAY", "PEA", "PEC", "PED", "PEE", "PEG", "PEH", "PEN", "PEP", "PER", "PES", "PET", "PEW", "PHI", "PHO", "PHT", "PIA", "PIC", "PIE", "PIG", "PIN", "PIP", "PIR", "PIS", "PIT", "PIU", "PIX", "PLU", "PLY", "POA", "POD", "POH", "POI", "POL", "POM", "POO", "POP", "POS", "POT", "POW", "POX", "POZ", "PRE", "PRO", "PRY", "PSI", "PST", "PUB", "PUD", "PUG", "PUH", "PUL", "PUN", "PUP", "PUR", "PUS", "PUT", "PUY", "PYA", "PYE", "PYX", "QAT", "QIS", "QUA", "RAD", "RAG", "RAH", "RAI", "RAJ", "RAM", "RAN", "RAP", "RAS", "RAT", "RAW", "RAX", "RAY", "REB", "REC", "RED", "REE", "REF", "REG", "REH", "REI", "REM", "REN", "REO", "REP", "RES", "RET", "REV", "REW", "REX", "REZ", "RHO", "RHY", "RIA", "RIB", "RID", "RIF", "RIG", "RIM", "RIN", "RIP", "RIT", "RIZ", "ROB", "ROC", "ROD", "ROE", "ROK", "ROM", "ROO", "ROT", "ROW", "RUB", "RUC", "RUD", "RUE", "RUG", "RUM", "RUN", "RUT", "RYA", "RYE", "SAB", "SAC", "SAD", "SAE", "SAG", "SAI", "SAL", "SAM", "SAN", "SAP", "SAR", "SAT", "SAU", "SAV", "SAW", "SAX", "SAY", "SAZ", "SEA", "SEC", "SED", "SEE", "SEG", "SEI", "SEL", "SEN", "SER", "SET", "SEW", "SEX", "SEY", "SEZ", "SHA", "SHE", "SHH", "SHY", "SIB", "SIC", "SIF", "SIK", "SIM", "SIN", "SIP", "SIR", "SIS", "SIT", "SIX", "SKA", "SKI", "SKY", "SLY", "SMA", "SNY", "SOB", "SOC", "SOD", "SOG", "SOH", "SOL", "SOM", "SON", "SOP", "SOS", "SOT", "SOU", "SOV", "SOW", "SOX", "SOY", "SPA", "SPY", "SRI", "STY", "SUB", "SUD", "SUE", "SUI", "SUK", "SUM", "SUN", "SUP", "SUQ", "SUR", "SUS", "SWY", "SYE", "SYN", "TAB", "TAD", "TAE", "TAG", "TAI", "TAJ", "TAK", "TAM", "TAN", "TAO", "TAP", "TAR", "TAS", "TAT", "TAU", "TAV", "TAW", "TAX", "TAY", "TEA", "TEC", "TED", "TEE", "TEF", "TEG", "TEL", "TEN", "TES", "TET", "TEW", "TEX", "THE", "THO", "THY", "TIC", "TID", "TIE", "TIG", "TIL", "TIN", "TIP", "TIS", "TIT", "TIX", "TOC", "TOD", "TOE", "TOG", "TOM", "TON", "TOO", "TOP", "TOR", "TOT", "TOW", "TOY", "TRY", "TSK", "TUB", "TUG", "TUI", "TUM", "TUN", "TUP", "TUT", "TUX", "TWA", "TWO", "TWP", "TYE", "TYG", "UDO", "UDS", "UEY", "UFO", "UGH", "UGS", "UKE", "ULE", "ULU", "UMM", "UMP", "UMU", "UNI", "UNS", "UPO", "UPS", "URB", "URD", "URE", "URN", "URP", "USE", "UTA", "UTE", "UTS", "UTU", "UVA", "VAC", "VAE", "VAG", "VAN", "VAR", "VAS", "VAT", "VAU", "VAV", "VAW", "VEE", "VEG", "VET", "VEX", "VIA", "VID", "VIE", "VIG", "VIM", "VIN", "VIS", "VLY", "VOE", "VOL", "VOR", "VOW", "VOX", "VUG", "VUM", "WAB", "WAD", "WAE", "WAG", "WAI", "WAN", "WAP", "WAR", "WAS", "WAT", "WAW", "WAX", "WAY", "WEB", "WED", "WEE", "WEM", "WEN", "WET", "WEX", "WEY", "WHA", "WHO", "WHY", "WIG", "WIN", "WIS", "WIT", "WIZ", "WOE", "WOF", "WOG", "WOK", "WON", "WOO", "WOP", "WOS", "WOT", "WOW", "WOX", "WRY", "WUD", "WUS", "WYE", "WYN", "XIS", "YAD", "YAE", "YAG", "YAH", "YAK", "YAM", "YAP", "YAR", "YAW", "YAY", "YEA", "YEH", "YEN", "YEP", "YES", "YET", "YEW", "YEX", "YGO", "YID", "YIN", "YIP", "YOB", "YOD", "YOK", "YOM", "YON", "YOS", "YOU", "YOW", "YUG", "YUK", "YUM", "YUP", "YUS", "ZAG", "ZAP", "ZAS", "ZAX", "ZEA", "ZED", "ZEE", "ZEK", "ZEL", "ZEP", "ZEX", "ZHO", "ZIG", "ZIN", "ZIP", "ZIT", "ZIZ", "ZOA", "ZOL", "ZOO", "ZOS", "ZUZ", "ZZZ", "THE", "AND", "FOR", "YOU", "WAS", "ARE", "BUT", "HIS", "NOT", "SHE", "HER", "HAD", "ONE", "ALL", "HAS", "WHO", "OUT", "CAN", "HIM", "DID", "NOW", "NEW", "ITS", "HOW", "OUR", "GET", "TWO", "SEE", "WAY", "SAY", "MAY", "ANY", "DAY", "GOT", "OFF", "TOO", "MAN", "OWN", "WHY", "LET", "USE", "LOT", "FEW", "PUT", "BIG", "OLD", "END", "YES", "WAR", "MEN", "SET", "FAR", "YET", "AGO", "JOB", "TOP", "SAW", "QWQ", "LAW", "AIR", "RUN", "TRY", "CAR", "GOD", "AGE", "ASK", "SIX", "CUT", "BAD", "ART", "RED", "PAY", "OIL", "BIT", "GUY", "SAN", "SON", "PER", "HIT", "ACT", "LOW", "BOY", "TAX", "KEY", "BUY", "LED", "BED", "MET", "HOT", "ADD", "SAT", "CUP", "WIN", "WON", "SUN", "SEX", "BOB", "EYE", "TOM", "MRS", "BOX", "TEN", "MOM", "RAN", "SIT", "EAT", "FAT", "SEA", "LOS", "FUN", "JIM", "ARM", "NOR", "GAS", "DAD", "DIE", "DOG", "DUE", "WEB", "KID", "ICE", "BAY", "JOE", "SAM", "BAR", "GUN", "SKY", "INT", "FIT", "LAY", "HEY", "BAG", "DRY", "LEE", "SIR", "AID", "CNN", "VAN", "ABC", "GON", "INC", "LIE", "ERA", "BUS", "FLY", "DAN", "GAY", "EXT", "MIX", "TED", "LEG", "FOX", "DON", "MAP", "BEN", "TEA", "SEN", "FBI", "NPR", "REP", "PAT", "NET", "RAY", "PAN", "EAR", "WET", "SAD", "ROW", "CAT", "CBS", "JAN", "POP", "CRY", "TIM", "VIA", "HAT", "BET", "ANN", "FAN", "TIE", "TIP", "USA", "JOY", "GAP", "LAB", "FIX", "EGG", "MAX", "MAD", "SKI", "FED", "CEO", "OCT", "RON", "POT", "DNA", "CAP", "DEC", "ODD", "PRO", "RAW", "NFL", "NOV", "KEN", "JAY", "NBC", "ADS", "AMY", "III", "CIA", "ATE", "LAS", "FIG", "ETC", "RID", "BAN", "AUG", "WOW", "KIM", "AIM", "BIN", "EPA", "FEE", "EVE", "OAK", "CAL", "TSP", "COP", "LIT", "ROY", "QUE", "MIN", "NBA", "JET", "FEB", "HIV", "DEL", "BID", "HIP", "SUE", "MUD", "GOV", "SEC", "PIE", "LAP", "ROB", "GOP", "BOW", "JON", "LOU", "HUH", "LIP", "AVE", "REV", "GYM", "ALI", "ROD", "PEN", "GEN", "PET", "SIN", "SOX", "LOG", "TOY", "TAP", "SHY", "DOW", "ASS", "DIG", "DES", "FLA", "FDA", "SUM", "BAT", "PIT", "LES", "IRA", "CAB", "INN", "LEO", "IBM", "COW", "KIT", "PAD", "MAC", "FAX", "WAN", "TAG", "CON", "FOG", "PIN", "RAP", "FUR", "DUG", "JAW", "VON", "NOD", "OWE", "HUG", "RIM", "PAR", "DAM", "RIO", "PIG", "SPY", "FLU", "LID", "ACE", "DIM", "EGO", "ASH", "LIZ", "IRS", "RAT", "ZOO", "INK", "COX", "KAY", "TOE", "DOC", "RUB", "JAR", "ABU", "JAM", "MPH", "PPG", "SOY", "ELK", "BUG", "GUT", "TIN", "DOT", "DIP", "IAN", "SPA", "ARC", "TUB", "PSA", "TAN", "MOB", "PAM", "JEW", "EDS", "DVD", "COL", "MEL", "HAY", "RUG", "BUD", "TBS", "WAX", "HUT", "HAM", "DEN", "DER", "HID", "QUO", "ICY", "BEE", "MAE", "SIP", "DOE", "IVY", "NED", "TEE", "RIP", "PAL", "GUM", "COM", "PGA", "PHD", "CUE", "RAM", "UPS", "BEG", "TON", "VOL", "WIT", "HMM", "MAT", "MUG", "MTV", "ARS", "ORE", "HAL", "AWE", "NUT", "CDC", "GPS", "APT", "GEE", "ING", "PBS", "KIN", "HOP", "CDS", "DEE", "PCS", "GDP", "EVA", "HUB", "BYE", "CHI", "VAL", "RPG", "MID", "MIT", "YEP", "NHL", "OWL", "TBA", "ROE", "IMF", "ZIP", "OPT", "AOL", "ANC", "SGT", "POV", "MEG", "ADA", "FRY", "NAP", "LBS", "LIN", "SIC", "TAB", "RIG", "HBO", "POR", "MAR", "ALA", "REX", "FAA", "TOW", "PUB", "RHP", "GUS", "MVP", "OOH", "ITO", "TAR", "UNA", "TUG", "TDS", "ARK", "BRA", "COD", "IND", "ANA", "NON", "SRI", "ABA", "ABE", "EST", "BMW", "TEL", "PEW", "VET", "DEF", "GEL", "HAN", "URL", "MED", "WIS", "BBC", "SUV", "DUO", "LTD", "SUB", "SID", "JEN", "INS", "HUM", "PLO", "NUN", "GIN", "ELI", "DYE", "MAO", "IKE", "GIG", "RIB", "RAG", "MIA", "ABS", "RUM", "SOD", "DOS", "HUE", "AYE", "FCC", "KGB", "BUM", "AMB", "GIL", "HOG", "CAM", "WTO", "ANT", "SLY", "HOC", "APP", "RBI", "LAG", "USC", "JFK", "TVS", "WWW", "NGC", "THY", "GAO", "PEA", "MAJ", "VII", "ROT", "POE", "PAW", "GPA", "TEX", "AAA", "SES", "APE", "YEN", "PAS", "HMO", "MON", "NYC", "VIC", "MUM", "WIG", "NFC", "WOO", "NRA", "PEG", "DEG", "POD", "WEE", "SUR", "LSU", "GAL", "LIU", "VOW", "SOL", "GEM", "NAT", "AXE", "PEE", "ACC", "LAD", "AFC", "FAY", "PAC", "RPM", "DIN", "HEN", "OLE", "USS", "AVG", "CAD", "AFT", "FIN", "MRI", "QUI", "NEA", "TAD", "DET", "HEM", "LAX", "ALE", "LCD", "NIH", "FOE", "KIP", "UNE", "BON", "MPG", "BUN", "CEE", "PTS", "KAN", "ELF", "GAG", "SAP", "FIR", "SAO", "IDA", "ZEN", "CCR", "FDR", "CUB", "NAN", "CIR", "ZOE", "JUG", "DAS", "VCR", "NAH", "MAS", "DIA", "ION", "RUE", "AHA", "LEN", "MCI", "COT", "WES", "UFO", "SAL", "ELM", "MIR", "ATM", "TIL", "BEA", "HUD", "AIS", "PRE", "ADM", "GNP", "RYE", "USB", "PRC", "WRY", "DEW", "DIS", "SPF", "CCD", "PSI", "RUT", "NOS", "PUP", "PRY", "SOW", "MIS", "MOP", "KAT", "IOC", "BMI", "PEP", "RNA", "TOR", "DEA", "POW", "JOG", "WAD", "NGO", "COS", "GIS", "REA", "JEB", "TWA", "CPR", "MMM", "DEM", "PDF", "JED", "ARI", "VIE", "LAM", "PRI", "LHP", "TNT", "ETA", "SOB", "UND", "APR", "HON", "AIG", "CSA", "NAY", "IEP", "FTC", "PCT", "BLM", "MSW", "APG", "DEI", "PAP", "SCI", "MBA", "POS", "NSA", "MOI", "NIC", "NSF", "YUP", "LIL", "PHI", "DOM", "CHE", "XVI", "BOO", "SEP", "ORR", "FAD", "MGM", "SEW", "VIN", "LLC", "YDS", "XII", "BOG", "LUC", "IPA", "ISO", "SAG", "JIG", "MAI", "IPO", "REY", "PPM", "URN", "AJC", "AMA", "ICU", "APA", "KMT", "SUS", "ROC", "AVA", "GIM", "RAE", "NIX", "ISD", "STU", "RES", "BAM", "NRC", "MCA", "LEX", "DIV", "CSU", "ERP", "PTA", "ESA", "FLO", "TIA", "CPU", "CHO", "ONT", "DAT", "VIP", "ESL", "JOS", "YAO", "USN", "POL", "TAI", "YER", "REG", "MOE", "DEB", "DAB", "EBB", "UNO", "AKA", "CPA", "PCR", "REC", "NEB", "PAZ", "LEA", "KAI", "NPS", "CHU", "IMG", "LEW", "BCS", "DOD", "LAN", "HRS", "BIO", "RCA", "PUN", "INA", "YIN", "XIV", "SHH", "ILL", "LDL", "HWY", "CIT", "ESP", "SER", "SAC", "WEN", "IRE", "SAS", "OPS", "TAU", "EMS", "ALS", "JAB", "UMM", "EBD", "ATF", "EDI", "STD", "DAR", "FRI", "MOW", "SIS", "COY", "NEV", "ELS", "MEI", "DPS", "PVC", "OTC", "ACL", "SAX", "IRV", "IDF", "MLB", "REM", "LSD", "ASA", "NHS", "TSA", "DNC", "NAS", "BIZ", "WOE", "BRO", "HOE", "EEL", "LEV", "CIS", "DAL", "IBN", "FAB", "ROM", "MAG", "DDT", "TAJ", "CHA", "TER", "REF", "HDL", "DOI", "LUZ", "SPP", "MLS", "WMD", "NAM", "HEH", "ELY", "TLC", "OBA", "HAH", "CSI", "GOO", "BEV", "ABM", "DSL", "TAL", "TOT", "TCU", "NYU", "MIC", "DPP", "ODA", "NEC", "AMD", "NAW", "PFC", "NIP", "CAA", "MME", "MAL", "PDA", "JUS", "PIP", "FRO", "FWS", "HUN", "REN", "VAT", "ODE", "LAO", "ERR", "CUM", "CBO", "JIN", "PAI", "RTC", "CBM", "BYU", "BOK", "NSC", "WOK", "LBJ", "DEP", "LUG", "FTA", "NPT", "PLA", "YON", "ZAP", "BIA", "MPS", "UGA", "ZED", "RTI", "IDS", "MIL", "AMC", "EDT", "NIA", "MIZ", "WEI", "EMG", "PLC", "AHH", "DSM", "OAT", "BEL", "DIL", "COO", "CPI", "FEY", "MAU", "WYO", "AMP", "COE", "CPS", "DHS", "PIA", "SBC", "DIY", "KIA", "ECO", "UGH", "RET", "JAG", "HHS", "RAO", "SUP", "GIT", "YEE", "ICC", "ISA", "BPA", "NIL", "IFS", "IWO", "COB", "HRT", "FIS", "SED", "GED", "CPL", "SIM", "MAM", "BAH", "THA", "SMU", "BLY", "TAO", "UAE", "ZHU", "POX", "ISI", "ZEE", "LEM", "RAF", "FAO", "LOC", "YUM", "ELL", "MHZ", "CAS", "SPC", "LOB", "HAP", "RTD", "PMS", "LAI", "ADL", "REB", "FEA", "PLY", "LEI", "MOD", "UAW", "EIS", "YEA", "CFS", "QUA", "ALT", "CTA", "UNC", "WHA", "NAG", "DUB", "LON", "ILK", "TAM", "TIC", "AUX", "ATT", "NEZ", "MUY", "YAN", "SEM", "ONO", "LDS", "CCP", "DRE", "EAU", "EMI", "STE", "DEX", "UPN", "TOD", "KHZ", "ASO", "SOC", "ADO", "NAB", "CBC", "DIX", "PKK", "LIM", "KEG", "LAC", "RAD", "COR", "BIS", "TUX", "AVI", "ASP", "ROZ", "HOY", "PPD", "TAT", "CBT", "FER", "VAR", "PCB", "ETS", "TAE", "COG", "SSI", "PCI", "LYN", "STS", "ACM", "CTS", "CFO", "BEY", "QVC", "DUH", "DUN", "YAM", "PAX", "DUI", "NYX", "NYE", "CTE", "BAS", "FPS", "JOT", "PEI", "BSA", "CRC", "MOO", "HBV", "CES", "HAR", "LAU", "RFK", "AVS", "YAH", "ORG", "GMC", "REI", "TIT", "ATP", "NOE", "ROS", "BOT", "SBA", "VHS", "UMA", "SOS", "MAW", "THC", "CCA", "SCD", "ORB", "AES", "FMR", "FRA", "GIA", "PDT", "TRE", "WEU", "CVS", "VER", "HSU", "AMR", "MSN", "SOM", "DSS", "IVF", "ERS", "HST", "HCV", "PRU", "AHL", "ABD", "CMS", "CSX", "ISP", "BTU", "OMB", "RJR", "OAR", "NCI", "LOA", "VGA", "BOA", "RNC", "LNG", "LUI", "CHR", "WAC", "BAO", "JUN", "BPS", "CID", "PLS", "DRC", "DEV", "FDI", "UBS", "AIL", "ECC", "ALM", "MFA", "CAI", "EEG", "LEY", "TRI", "APS", "TAS", "FHA", "WAG", "LIV", "HOA", "OUI", "MEA", "DNR", "PCA", "OLB", "DOO", "TRC", "GEO", "GTE", "PST", "RPE", "BIB", "YOO", "ERE", "TCI", "EXP", "RST", "OSA", "ZAC", "FEC", "BOD", "MSM", "SNL", "VIS", "HEE", "XML", "ACP", "BBQ", "AZT", "VTE", "SAR", "GUO", "JAX", "ROH", "HAG", "MFN", "DJS", "LLP", "LAT", "RIA", "OAS", "ILE", "YEW", "CLE", "OCD", "OMG", "RIC", "WWF", "CFD", "AKP", "ZSA", "EWE", "PSC", "KYL", "KKK", "ANG", "BJP", "RSS", "UVA", "CIN", "WIL", "CAO", "EMU", "ABL", "VEZ", "PUG", "HPV", "MER", "AYP", "PUS", "YIP", "HAI", "CSF", "JIS", "KWH", "LUM", "URI", "SPL", "FSU", "GMA", "SHI", "PKG", "PBL", "FMS", "HOU", "IQS", "FAS", "EIN", "RAJ", "EID", "ADC", "SHA", "ISS", "OFT", "DRS", "CAZ", "HEX", "KEV", "RAS", "BIC", "BOP", "DIR", "EMC", "KLA", "GDR", "STL", "DAI", "RFA", "IST", "KEE", "WII", "SHU", "LHE", "CAY", "JPL", "FUE", "UKE", "DOA", "VMI", "IDI", "OSS", "CWA", "THI", "THO", "YRS", "CCC", "OSU", "DSP", "ESO", "SDS", "UAL", "ESQ", "AEC", "HEW", "ELE", "DUM", "DEY", "YUN", "YOM", "CFA", "EKG", "YAY", "AYA", "SLR", "SSC", "SIG", "LIA", "MES", "MST", "ORD", "ORF", "FYI", "GBI", "LOO", "YAK", "ANI", "AON", "WPA", "SOP", "ESE", "ITT", "AFL", "NIO", "ATA", "DUD", "TBI", "ACS", "TEM", "ABB", "EDO", "OCH", "CFC", "CSO", "CRT", "AAU", "ADR", "HGH", "MSA", "DMV", "CST", "CHD", "LIB", "TRW", "ZIA", "WIE", "KFC", "INF", "CRP", "MCG", "LPS", "SUU", "SCM", "BAL", "SDI", "IED", "MIU", "DMZ", "OCS", "MCC", "MMS", "ATV", "LEP", "KYI", "RDA", "BNA", "GMT", "NOM", "TUT", "WCC", "RTS", "MOS", "HLN", "HPD", "PDM", "WAT", "USD", "LBP", "JUM", "NEO", "SPG", "SUH", "TQM", "EKE", "MIG", "FPU", "ARA", "DHA", "ROG", "CBA", "FOO", "FAG", "EEZ", "SWC", "OTT", "ALF", "NCR", "TET", "BOS", "CFR", "FSA", "NEE", "PCP", "KEA", "HOO", "NEP", "VOC", "AAS", "NEY", "HUA", "FGS", "JUT", "TSE", "UTE", "WIU", "RHO", "LIS", "MIO", "NTH", "ECU", "NUB", "KAL", "BOM", "ALD", "SSA", "PQP", "AOS", "ELA", "FNS", "SMI", "UFE", "ORA", "BNL", "KEL", "TVA", "AMI", "IGE", "NAV", "DUC", "LDP", "WAH", "AME", "EPO", "MSG", "NIS", "MDC", "GCC", "BAI", "BSN", "CIO", "KOI", "PNC", "TEU", "TRF", "LUV", "HLA", "LUO", "OCR", "OSP", "MSR", "VEE", "YEH", "SUI", "LGB", "CEA", "LPR", "GPC", "CNC", "CSD", "HAW", "WIZ", "CMB", "EIA", "THU", "MOT", "OTA", "NOX", "RMS", "CBI", "ANS", "APC", "LOY", "ATS", "EOS", "ENO", "ROI", "RPI", "KKR", "DIO", "LYE", "HIB", "ILS", "RNS", "PUC", "UST", "CMC", "RVS", "NGK", "ILY", "IVA", "RPT", "AFP", "REE", "UTA", "BBS", "FTP", "SLA", "BSE", "BMX", "AIN", "PIC", "VHF", "ONG", "AMT", "PAK", "CEC", "ENG", "EPR", "ICI", "UPI", "XXX", "SCR", "ENT", "CNG", "CNS", "PRP", "ITC", "OCC", "DNP", "NIT", "CFE", "KOH", "XIX", "VUE", "FSC", "QOL", "RIK", "ZEV", "BER", "CDF", "ACA", "WBC", "VOS", "YAP", "ZAR", "ATL", "EPS", "NIE", "FON", "NWF", "VIZ", "ROK", "STM", "TCM", "BMG", "CTR", "WNV", "IUD", "USO", "UWE", "SNR", "FXU", "OOO", "DLC", "ODO", "KOS", "IHS", "ICH", "IBS", "HOV", "TYE", "TUE", "UVB", "QTD", "JIA", "OPP", "GAR", "FOB", "STA", "FEI", "DAH", "ADV", "SUL", "AAP", "IVO", "AST", "LHC", "HMS", "ICS", "AFF", "GAC", "IMP", "NPD", "AIA", "IFA", "HCA", "KBR", "VAS", "TRA", "SRT", "BBB", "BIP", "BRI", "ORO", "NOB", "NAE", "SFO", "PVT", "VID", "AFB", "BUR", "SHO", "SEI", "SUD", "MOR", "KUO", "BFP", "ESU", "AGA", "IRB", "VRE", "WMA", "IDC", "EEC", "OAU", "OAA", "IOM", "ITH", "UAB", "FSB", "CDI", "AWD", "AHN", "TAY", "ROV", "ISM", "JAI", "DAE", "WTC", "FTG", "TRS", "PHO", "LCS", "IFI", "GRB", "NBW", "MDN", "PPB", "TAC", "SMS", "RUS", "RAI", "YUH", "GER", "RAZ", "TMS", "LAL", "KOO", "MSC", "MWC", "RGB", "CRS", "CFL", "CHL", "COA", "SIU", "SEQ", "LUX", "MRF", "XTR", "DBS", "GEF", "WYE", "TES", "PPP", "DBP", "CMA", "AYN", "IRL", "TCS", "BEC", "FEN", "ESS", "IEA", "KPA", "EMT", "FLN", "FEZ", "GAB", "DRG", "SUA", "SCH", "PWC", "AIP", "DRU", "DTC", "DOJ", "CPC", "GAN", "DVR", "IWC", "LSI", "SMB", "FOY", "SLI", "ILO", "NWR", "CVD", "BLT", "NMR", "UFC", "PIO", "CWS", "IGM", "HCC", "ZUR", "BIL", "AEI", "HUI", "MDS", "AER", "BMC", "BSC", "EFA", "PLM", "UZI", "TPC", "CSB", "CLA", "DOV", "DFS", "MPA", "ILI", "CJD", "IRC", "IQR", "HIE", "MEK", "RBS", "SRA", "CME", "ARD", "AAH", "SDF", "PLE", "PYM", "TSN", "MEV", "KAO", "KEW", "AWW", "BPH", "KUH", "MEE", "MAB", "MVC", "UPC", "SSF", "AUF", "ASI", "EFL", "ACH", "PRD", "RSA", "MHC", "IMS", "GSA", "FFA", "ARP", "GTA", "IPM", "VCS", "CAU", "AED", "ENT", "ION", "AND", "ING", "IVE", "TIO", "FOR", "OUR", "THI", "ONE", "NIN", "STO", "EEN", "GHT", "INE", "VEN", "EVE", "EST", "TEE", "TOP", "NTH", "TWE", "TWO", "ATI", "THR", "NTY", "HRE", "WEN", "FOU", "ORT", "REE", "SIX", "ASH", "DAS", "IGH", "ERE", "COM", "ATE", "EIG", "FIV", "MEN", "SEV", "ERS", "UND", "NET", "PER", "STA", "TER", "EQU", "RED", "TED", "ERI", "HIR", "IRT", "DER", "DRE"};
		this.trigraphs = new TreeSet<String>(Arrays.asList(trigraphs));
	}
	
	@Override
	public Collection<Feature> extract(DataNode data) {
		createSearchSpace();
		LinkedList<KeyStroke> buffer = new LinkedList<KeyStroke>();
		String stringBuffer = new String();
		for (Answer a : data) {
			buffer.clear();
			for (KeyStroke k : a.getKeyStrokeList()) {
			/////////////////Main Logic///////////////////////
				if (k.getKeyCode() != 16) //ignore shifts
					buffer.add(k);
				if (buffer.size() > 6)
					buffer.poll();
				stringBuffer = keyStrokesToString(buffer).toUpperCase();
				
				if (trigraphs.contains(stringBuffer) && buffer.getFirst().isKeyPress() && Character.toUpperCase(buffer.getFirst().getKeyChar()) == stringBuffer.charAt(0)) { 
					if (isNormalTrigraph(buffer))
						featureMapNormal.get(stringBuffer).add(buffer.get(4).getWhen() - buffer.getFirst().getWhen());
					else
						featureMapSlur.get(stringBuffer).add(buffer.get(findEnd(buffer,stringBuffer)).getWhen() - buffer.getFirst().getWhen());
				}  
			/////////////////////////////////////////////////
			}
		}
		LinkedList<Feature> output = new LinkedList<Feature>();
		for (String s : trigraphs) {
			if (DISREGARD_EMPTY_FEATURES)
				if (featureMapNormal.get(s).isEmpty())
					continue;
			output.add(new Feature("TN_" + s, featureMapNormal.get(s)));
		}
		for (String s : trigraphs) {
			if (DISREGARD_EMPTY_FEATURES)
				if (featureMapSlur.get(s).isEmpty())
					continue;
			output.add(new Feature("TS_" + s, featureMapSlur.get(s)));
		}
		return output;
	}

	@Override
	public String getName() {
		return "Trigraph Durations";
	}
	
	private void createSearchSpace() {
		featureMapNormal.clear();
		featureMapSlur.clear();
		for (String s : trigraphs) {
			featureMapNormal.put(s, new LinkedList<Long>());
			featureMapSlur.put(s, new LinkedList<Long>());
		}
	}
	
	/**
	 * Simple Method that returns the character stream from a list of keystroke objects.
	 * 
	 * Does not handle backspaces or deletes.
	 * 
	 * @param keystrokes
	 * @return String corresponding to the keystrokes typed.
	 */
	private static String keyStrokesToString(Collection<KeyStroke> keystrokes) {
		String output = new String();
		for (KeyStroke k : keystrokes) {
			if (k.isKeyPress() && k.getKeyChar()!=KeyStroke.CHAR_UNDEFINED)
				output = output.concat( Character.toString(k.getKeyChar()) );
		}
		return output;
	}
	
	/**
	 * 
	 */
	private static boolean isNormalTrigraph (LinkedList<KeyStroke> buffer) {
		KeyStroke[] k = buffer.toArray(new KeyStroke[0]);
		// if key pattern follows p, r, p, r, p, ?
		// ignore last key release because it can be slurred with spaces and other keys not part of the duration.
		if (k[0].isKeyPress() && k[1].isKeyRelease() &&
			k[2].isKeyPress() && k[3].isKeyRelease() &&
			k[4].isKeyPress() 						) {
			// if key pattern is A, A, B, B, C, ?
			if (k[0].getKeyCode() == k[1].getKeyCode() &&
				k[2].getKeyCode() == k[3].getKeyCode()) {
				return true;
			}
		}
		return false;
	}
	
	private static int findEnd (LinkedList<KeyStroke> buffer, String trigraph) {
		char[] chars = trigraph.toCharArray();
		int index = 0;
		int position = 0;
		for (KeyStroke k : buffer) {
			if (k.isKeyPress() && Character.toUpperCase(k.getKeyChar()) == chars[index]) {
				index++;
			}
			if (index > 2) {
				return position;
			}
			position++;
		}
		
		return -1;
	}
}
